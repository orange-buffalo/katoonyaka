@import "foundation/normalize";
@import "foundation/_settings";
@import "foundation/components/grid";
@import "compass/typography/links/unstyled-link";
@import "compass/css3";
@import url(http://fonts.googleapis.com/css?family=Arvo|Fjord+One);
@import "third-party/photoswipe";
@import "third-party/ps-default-skin";

$main-bg-color: #4D4C42;
$first-secondary-color: #e97174;
$second-secondary-color: #94E1E9;

html, body {
  font-size: 16px !important;

  @media #{$medium-only} {
    font-size: 16px !important;
  }

  @media #{$large-only} {
    font-size: 17px !important;
  }

  @media #{$xlarge-only} {
    font-size: 18px !important;
  }
}

a {
  @include unstyled-link;
}

body {
  background-color: $main-bg-color;
  overflow: hidden;
  color: white;
}

h1 {
  margin: 0 0 0.67em 0;
  text-align: center;
}

.cover-slides {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  width: 100%;
  z-index: -1;

  .cover-slide {
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
    @include transition(all 1500ms);
    background-position: center;
    background-size: cover;

    &.hidden {
      opacity: 0;
    }
  }
}

@mixin katoonyaka-shadow {
  @include box-shadow(1px 1px 5px 0px rgba(0, 0, 0, 0.65));
}

.main-content {
  position: relative;
  background: rgba($main-bg-color, 0.95);
  @include katoonyaka-shadow;

  .wrapper {
    @media #{$small-only} {
      padding: 1em;
    }

    @media #{$medium-up} {
      padding: 2em;
    }

    @include box-sizing(content-box);
    z-index: 10;

    &.pending {
      position: absolute;
      top: 0;
      left: 0;
      @include box-sizing(border-box);
      z-index: 20;
      width: 100%;
    }
  }

}

///// tood justify

.justify-gallery {
  .picrow {
    white-space: nowrap;
  }

  .gallery-item {
    display: inline-block;
    overflow: hidden;

    .gallery-thumb {
      position: relative;
    }
  }

}

.handiworks-list {
  @extend .justify-gallery;

  .handiwork-summary {
    @extend .gallery-item;
    @include katoonyaka-shadow;
    @include transition(all 600ms ease-in-out);
    opacity: 1;

    &.pending {
      opacity: 0;
    }

    .handiwork-summary-container {
      position: relative;
      width: 100%;
      height: 100%;

      $hover-text-color: #DCD6D2;
      $hover-accent-text-color: #DEB9A3;
      $hover-bg-color: #999B9B;
      $hover-animation-time: 700ms;

      @mixin no-hover() {
        @include scale(0);
        opacity: 0;
        @include transition(all $hover-animation-time * 0.85);
      }

      @mixin on-hover() {
        @include scale(1);
        opacity: 1;
      }

      .handiwork-description {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        padding: 2em;
        background: rgba($hover-bg-color, 0);
        display: flex;
        align-items: center;
        white-space: normal;
        @include transition(all $hover-animation-time);

        &:hover {
          background: rgba($hover-bg-color, 0.7);

          .handiwork-description-wrapper {
            h3 {
              @include on-hover;
            }

            hr {
              @include on-hover;
            }

            p {
              @include on-hover;
            }
          }

        }

        .handiwork-description-wrapper {
          overflow: hidden;

          h3 {
            overflow: hidden;
            text-overflow: ellipsis;
            margin: 1em 0 0 0;
            text-align: center;
            @include no-hover;
            color: $hover-accent-text-color;
          }

          hr {
            border: 0;
            height: 1px;
            @include background-image(
                            linear-gradient(left,
                                    rgba($hover-text-color, 0),
                                    rgba($hover-text-color, 1),
                                    rgba($hover-text-color, 0)));
            margin: 0.5em 3em;
            @include no-hover;
          }

          p {
            width: 100%;
            line-height: 1.5em;
            font-size: .8em;
            display: inline-block;
            padding: 0 1em;
            text-align: center;
            margin: 0;
            @include no-hover;
            color: $hover-text-color;
          }
        }

      }

      .handiwork-thumb {
        @extend .gallery-thumb;
      }
    }
  }
}

///// todo sly

.scrollbar {
  position: absolute;
  top: 10px;
  right: 10px;
  bottom: 10px;
  width: 2px;
  background: darken($main-bg-color, 10%);

  .handle {
    width: 100%;
    height: 100px;
    background: lighten($main-bg-color, 10%);
    cursor: pointer;

    .mousearea {
      position: absolute;
      top: 0;
      left: -10px;
      width: 22px;
      height: 100%;
    }
  }
}

.frame {
  margin: 0 0 0 0;
  height: 100%;
}

// Details page

.handiwork-details {
  @include grid-row();
  text-align: justify;

  .text-content {

    @media #{$small-up} {
      @include grid-column(12);
    }

    @media #{$xlarge-up} {
      @include grid-column(4);
    }

    .handiwork-description-area {
      .handiwork-description-part {
        h2 {

        }
      }
    }

    .handiwork-links {

    }
  }

  .photo-content {
    @media #{$small-up} {
      @include grid-column(12);
    }

    @media #{$xlarge-up} {
      @include grid-column(8);
    }

    .handiwork-photo-gallery {
      @extend .justify-gallery;

      .handiwork-photo {
        @extend .gallery-item;
        @include transition(all 400ms);
        cursor: pointer;

        .handiwork-photo-thumb {
          @extend .gallery-thumb;
        }

        &.pending {
          opacity: 0;
        }
      }
    }
  }
}

.header-container {
  height: 100vh;
  position: relative;

  .scroll-button {
    text-align: center;
    cursor: pointer;
    position: absolute;
    left: 0;
    bottom: 0;
    padding: 0.5em;
    width: 100%;
    opacity: 0.7;

    &:before {
      content: "scroll down to see more";
      font-size: 70%;
      display: block;
    }

    &:after {
      content: "";
      border-bottom: 2px solid white;
      border-left: 2px solid white;
      @include rotate(-45deg);
      display: inline-block;
      width: 1em;
      height: 1em;
      margin-bottom: 0.3em;
      margin-top: -0.3em;
    }
  }

  .header-title {
    text-align: center;
    width: 100%;
    @include translate2d(0, -50%);
    position: absolute;
    top: 50%;
    left: 0;

    &:before {
      content: "Katoonyaka";
      font-size: 300%;
      display: block;
      margin-bottom: 0.1em;
      text-transform: uppercase;
      font-weight: bold;
    }

    &:after {
      content: "creations";
      font-size: 140%;
    }
  }
}

